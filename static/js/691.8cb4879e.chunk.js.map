{"version":3,"file":"static/js/691.8cb4879e.chunk.js","mappings":"2QAEaA,EAAcC,EAAAA,EAAAA,MAAH,8DAKXC,EAAeD,EAAAA,EAAAA,OAAH,yC,kBC4CzB,EA7Ce,WACb,OAAkCE,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KA+BA,OApBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,yFACZC,EAAQJ,EAAaK,IAAI,aADb,2EAIGC,EAAAA,EAAAA,IAASF,GAJZ,aAIVG,EAJU,QAMPC,OAAS,GANF,wBAOdC,MAAM,oFAPQ,2BAWhBX,EAAaS,GAXG,kDAahBG,QAAQC,IAAR,MAbgB,0DAAH,qDAgBjBR,GACD,GAAE,CAACH,KAGF,iCACE,kBAAMY,SA/BU,SAAAC,GAClBA,EAAEC,iBAEF,IAAMC,EAAYF,EAAEG,OAAOC,OAAOC,MAClCjB,EAAgB,CAAEc,UAAAA,IAElBF,EAAEG,OAAOC,OAAOC,MAAQ,EACzB,EAwBG,WACE,SAACzB,EAAD,CAAa0B,KAAK,OAAOC,KAAK,YAC9B,SAACzB,EAAD,wBAGDE,IAAa,SAACwB,EAAA,EAAD,CAAUd,KAAMV,MAGnC,C","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const InputStyled = styled.input`\n  margin-top: 10px;\n  width: 200px;\n`;\n\nexport const SearchButton = styled.button`\n  width: 100px;\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getFilms } from 'API/MoviesAPI';\nimport { InputStyled, SearchButton } from './Movies.styled';\nimport { FilmList } from 'components/FilmList/FilmList';\n\nconst Movies = () => {\n  const [filmsData, setFilmsData] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchMovie = e => {\n    e.preventDefault();\n\n    const movieName = e.target.search.value;\n    setSearchParams({ movieName });\n\n    e.target.search.value = '';\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const query = searchParams.get('movieName');\n      if (!query) return;\n      try {\n        const data = await getFilms(query);\n\n        if (data.length < 1) {\n          alert('ничего не нашли');\n          return;\n        }\n\n        setFilmsData(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchMovies();\n  }, [searchParams]);\n\n  return (\n    <>\n      <form onSubmit={searchMovie}>\n        <InputStyled type=\"text\" name=\"search\" />\n        <SearchButton>Search</SearchButton>\n      </form>\n\n      {filmsData && <FilmList data={filmsData} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["InputStyled","styled","SearchButton","useState","filmsData","setFilmsData","useSearchParams","searchParams","setSearchParams","useEffect","fetchMovies","query","get","getFilms","data","length","alert","console","log","onSubmit","e","preventDefault","movieName","target","search","value","type","name","FilmList"],"sourceRoot":""}